-- Author Officer K
-- Function: creating database and user via sql-script
-- Created with "D"Beaver" as test environment


CREATE USER {{ postgresql_db_user }} WITH ENCRYPTED PASSWORD '{{ postgresql_db_user_password }}';

CREATE DATABASE {{ postgresql_db }}
    WITH
    OWNER = {{ postgresql_db_user }}
    ENCODING = 'UTF-8'
    LC_COLLATE = 'en_US.UTF-8'
    LC_CTYPE = 'en_US.UTF-8'
    TABLESPACE = pg_default
    CONNECTION LIMIT = -1;

COMMENT ON DATABASE {{ postgresql_db }}
    IS '{{ postgresql_db_comment }}';

GRANT ALL PRIVILEGES ON DATABASE {{ postgresql_db }} TO {{ postgresql_db_user }};
